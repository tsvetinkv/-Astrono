import*as o from"https://cdn.skypack.dev/three@0.132.2";import{OrbitControls as l}from"https://cdn.skypack.dev/three@0.132.2/examples/jsm/controls/OrbitControls.js";const g="/moon/assets/moon-texture.jpg",b="/moon/assets/moon-displacement.jpg",m=new o.TextureLoader,a=new o.Scene,E=new o.SphereGeometry(3,64,64),S=m.load(g),s=m.load(b),W=new o.MeshStandardMaterial({color:16777215,map:S,displacementMap:s,displacementScale:.005,bumpMap:s,bumpScale:.04}),u=new o.Mesh(E,W);a.add(u);let e,t=window.innerHeight/2;document.documentElement.clientWidth<800?(e=document.documentElement.clientWidth/1.5,t=window.innerHeight/2.5):e=document.documentElement.clientWidth/3;const p=new o.DirectionalLight(16777215,1.15);p.position.set(100,10,5);a.add(p);const n=new o.PerspectiveCamera(20,e/t);n.position.z=20;a.add(n);const w=document.querySelector("#webgl1"),i=new o.WebGLRenderer({canvas:w,antialias:!0,alpha:!0});i.setSize(e,t);i.render(a,n);const f=document.querySelector("#webgl2"),c=new o.WebGLRenderer({canvas:f,antialias:!0,alpha:!0});c.setSize(e,t);c.render(a,n);const r=new l(n,w);r.enableDamping=!0;r.enablePen=!1;r.enableZoom=!1;const d=new l(n,f);d.enableDamping=!0;d.enablePen=!1;d.enableZoom=!1;window.addEventListener("resize",()=>{document.documentElement.clientWidth<800?(e=document.documentElement.clientWidth,t=window.innerHeight/2,n.fov=22,document.documentElement.clientWidth>640&&(e=document.documentElement.clientWidth/2.5,t=window.innerHeight/2.5)):e=document.documentElement.clientWidth/3,t=window.innerHeight/2,n.aspect=e/t,n.updateProjectionMatrix(),i.setSize(e,t),c.setSize(e,t)});const h=()=>{u.rotation.y+=.003,i.render(a,n),c.render(a,n),r.update(),d.update(),window.requestAnimationFrame(h)};h();
