import"./modulepreload-polyfill-9p4a8sJU.js";/* empty css                  */import*as i from"https://cdn.skypack.dev/three@0.132.2";import{OrbitControls as D}from"https://cdn.skypack.dev/three@0.132.2/examples/jsm/controls/OrbitControls.js";const m=new i.Scene;let j=new i.SphereGeometry(1.5,10,6),x=new i.MeshPhongMaterial({color:16771040}),R=new i.Mesh(j,x);const g=3e3;let h=1;const M=new i.BufferGeometry,n=new Float32Array(g*3),r=new Float32Array(g*3);for(let e=0;e<g;e++){const t=h*Math.sqrt(Math.random()),a=Math.random()*Math.PI*2,o=Math.acos(2*Math.random()-1),c=t*Math.sin(o)*Math.cos(a),p=t*Math.sin(o)*Math.sin(a),l=t*Math.cos(o);n[e*3]=c,n[e*3+1]=p,n[e*3+2]=l,r[e*3]=1,r[e*3+1]=.5,r[e*3+2]=.2}M.setAttribute("position",new i.BufferAttribute(n,3));M.setAttribute("color",new i.BufferAttribute(r,5));const A=new i.PointsMaterial({size:.3,color:new i.Color(16771040)}),B=new i.Points(M,A);let C=new i.Group;C.add(B);C.add(R);m.add(C);const s={width:window.innerWidth/3,height:window.innerHeight/2.5};document.documentElement.clientWidth<1008&&(s.width=document.documentElement.clientWidth/1.5,s.height=window.innerHeight/2.5);const u=new i.PerspectiveCamera(50,s.width/s.height,.5,1e3);u.position.x=35;u.position.z=20;u.position.y=5;m.add(u);const y=document.querySelector("#webgl2"),P=new D(u,y);P.dampingFactor=.1;P.autoRotate=!0;window.addEventListener("resize",G);function G(){u.aspect=s.width/s.height,u.updateProjectionMatrix(),f.setSize(s.width,s.height)}let f=new i.WebGLRenderer({canvas:y,antialias:!0,alpha:!0});f.setPixelRatio(window.devicePixelRatio);f.setSize(s.width,s.height);f.toneMapping=i.ReinhardToneMapping;f.setClearColor(1182517);u.aspect=s.width/s.height;u.updateProjectionMatrix();m.scale.normalize().multiplyScalar(1);const T=new i.AmbientLight(16771040,10);m.add(T);const L=new i.SpotLight(16777215);L.position.set(10,20,30);L.castShadow=!0;m.add(L);const S=function(){requestAnimationFrame(S);for(let e=0;e<g;e++)n[e*3+2]-=.7,Math.random()<.06&&(n[e*5]+=(Math.random()*2-1)*h*1,n[e*3+1]+=(Math.random()*3-1)*h*1),n[e*3+2]<55&&Math.random()<.02&&(n[e*3]=(Math.random()*1.5-.75)*h*1.5,n[e*3+1]=(Math.random()*1.5-.75)*h*1.5,n[e*3+2]=(Math.random()*1.5-.75)*h*1.5),Math.random()<.09&&(n[e*3]+=(Math.random()*2-1)*h*2,n[e*3+1]+=(Math.random()*2-1)*h*2,n[e*3+2]+=(Math.random()*2-1)*h*2),Math.sqrt(n[e*3]*n[e*3]+n[e*3+1]*n[e*3+1]+n[e*3+2]*n[e*3+2])<h?(r[e*3]=1,r[e*3+1]=1,r[e*3+2]=1):(r[e*3]=0,r[e*3+1]=0,r[e*3+2]=1),M.attributes.color.setXYZ(e,r[e*3],r[e*3+1],r[e*3+2]);M.attributes.position.needsUpdate=!0,P.update(),f.render(m,u)};S();const F=["JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER"],z=["ЯНУАРИ","ФЕВРУАРИ","МАРТ","АПРИЛ","МАЙ","ЮНИ","ЮЛИ","АВГУСТ","СЕПТЕМВРИ","ОКТОМВРИ","НОЕМВРИ","ДЕКЕМВРИ"],d={"Full Moon":"fullMoon.jpg","New Moon":"newMoon.jpg","Solar Eclipse":"solarEclipse.jpg","Lunar Eclipse":"lunarEclipse.jpg","Meteor Shower":"meteorShower.jpg",Moon:"moon.jpg",Comet:"comet.jpg",Conjunction:"moonConjunction.jpg"};let b;const v=document.querySelector(".events");fetch("https://apiastrono.bsite.net/Events/GetAllEvents",{method:"GET",headers:{accept:"application/json"}}).then(e=>e.json()).then(e=>{b=e,U()}).catch(e=>console.error("Error:",e));function E(e){const t={month:"long",day:"numeric"};return currentLanguage==="bg"?e.toLocaleDateString("bg-BG",t):e.toLocaleDateString("en-US",t)}function U(){v.innerHTML="";const t=new Date().getMonth();for(let a=t;a<=F.length;a++){const o=document.createElement("h2");o.classList.add("monthName");const c=document.createElement("div");c.classList.add("lineOfEvents"),currentLanguage=="en"?o.textContent=F[a]:o.textContent=z[a],c.appendChild(o),b.filter(l=>new Date(l.startDate).getMonth()===a).forEach(l=>{let w;currentLanguage=="en"?w=l.name:w=l.translatedName,N(l,w,c)})}}function N(e,t,a){if(t.includes("Meteor Shower")||t.includes("Метеоритен дъжд")?eventPhotoFileName=d["Meteor Shower"]:t.includes("Moon")||t.includes("Лун")?t.includes("Conjunction")||t.includes("Съвпад")?eventPhotoFileName=d.Conjunction:t.includes("New Moon")?eventPhotoFileName=d["New Moon"]:t.includes("Full Moon")?eventPhotoFileName=d["Full Moon"]:eventPhotoFileName=d.Moon:t.includes("Новолуние")?eventPhotoFileName=d["New Moon"]:t.includes("Пълнолуние")?eventPhotoFileName=d["Full Moon"]:t.includes("Comet")||t.includes("Кометата")?eventPhotoFileName=d.Comet:t.includes("Lunar Eclipse")||t.includes("лунно затъмнение")?eventPhotoFileName=d["Lunar Eclipse"]:eventPhotoFileName=d[t],eventPhotoFileName){const o=document.createElement("div");o.classList.add("eventCard");const c=document.createElement("h3");c.id="nameOfTheEvent",c.textContent=t;const p=document.createElement("img");p.classList.add("eventPhoto"),p.src=`./images/${eventPhotoFileName}`,p.alt=t;const l=document.createElement("p");l.id="dateOfTheEvent",l.textContent=E(new Date(e.startDate)),o.addEventListener("click",()=>{O(e)}),o.appendChild(c),o.appendChild(p),o.appendChild(l),a.appendChild(o),v.appendChild(a)}}function O(e){let t,a;currentLanguage==="en"?(t=e.description,a=e.name):(t=e.translatedDescription,a=e.translatedName);const o=`
        <style>
            body {
                background: linear-gradient(0deg, rgba(5,26,70,1) 0%, rgba(43,2,85,1) 100%);
                background-repeat: no-repeat;
                color: #EDDCFF;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                text-align:center;
            }   
            p{
                width: 80%;
            }
            .center{
                display: flex;
                justify-content: center;
            }
        </style>
            <h2>${a}</h2>
            <div class="center">
            <p>${E(new Date(e.startDate))} - ${E(new Date(e.endDate))}</p>
            </div>
            <div class="center">
            <p>${t}</p>
            </div>
        `,c=window.open("","EventPopup","width=600,height=350");c.document.body.innerHTML=o}translateButton(16,2,null);
